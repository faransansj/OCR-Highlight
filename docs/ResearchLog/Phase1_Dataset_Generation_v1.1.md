# Phase 1: í•©ì„± ë°ì´í„°ì…‹ ìƒì„± ì‹œìŠ¤í…œ êµ¬ì¶•

**ë‹¨ê³„**: Phase 1 (Week 1-2)
**ë²„ì „**: v1.1
**ì‘ì„±ì¼**: 2025-01-19
**ìƒíƒœ**: âœ… ì™„ë£Œ (ì‹¤í–‰ ì™„ë£Œ)

---

## ğŸ“‹ ê°œìš”

í˜•ê´‘íœ í•˜ì´ë¼ì´íŠ¸ í…ìŠ¤íŠ¸ ì¶”ì¶œ ì—°êµ¬ë¥¼ ìœ„í•œ í•©ì„± ë°ì´í„°ì…‹ ìë™ ìƒì„± ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ê³  **ì‹¤ì œ ë°ì´í„°ì…‹ ìƒì„±ì„ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œ**í–ˆìŠµë‹ˆë‹¤. ì´ 5ê°œì˜ í•µì‹¬ ëª¨ë“ˆì„ ê°œë°œí•˜ì—¬ í…ìŠ¤íŠ¸ ì´ë¯¸ì§€ ìƒì„±ë¶€í„° í•˜ì´ë¼ì´íŠ¸ ì˜¤ë²„ë ˆì´, ë°ì´í„° ì¦ê°•, ë°ì´í„°ì…‹ ë¶„í• ê¹Œì§€ ì „ì²´ íŒŒì´í”„ë¼ì¸ì„ ì™„ì„±í–ˆìŠµë‹ˆë‹¤.

---

## ğŸ¯ ëª©í‘œ ë‹¬ì„± í˜„í™©

- [x] 200ê°œ ê¸°ë³¸ í•©ì„± ì´ë¯¸ì§€ ìƒì„± âœ…
- [x] 3ê°€ì§€ ìƒ‰ìƒ(ë…¸ë‘, ì´ˆë¡, ë¶„í™) í•˜ì´ë¼ì´íŠ¸ ì‹œë®¬ë ˆì´ì…˜ âœ…
- [x] Validation/Test ë°ì´í„°ì…‹ ë¶„í•  (30%/70%) âœ…
- [x] ë°ì´í„° ì¦ê°•ì„ í†µí•œ 600ê°œ ìµœì¢… ì´ë¯¸ì§€ í™•ë³´ âœ…
- [x] Ground Truth annotation ìë™ ìƒì„± âœ…
- [x] **ì‹¤ì œ ë°ì´í„°ì…‹ ìƒì„± ì‹¤í–‰ ì™„ë£Œ** âœ…

---

## ğŸš€ ì‹¤í–‰ ê²°ê³¼ (2025-01-19)

### í™˜ê²½ ì„¤ì •

**Python í™˜ê²½**: uv (ë¹ ë¥¸ íŒ¨í‚¤ì§€ ê´€ë¦¬ì)
```bash
# uv ë²„ì „: 0.8.6
# Python ë²„ì „: 3.13.5

# ê°€ìƒí™˜ê²½ ìƒì„±
uv venv  # .venv ìƒì„±

# íŒ¨í‚¤ì§€ ì„¤ì¹˜
uv pip install -r requirements.txt
```

**ì„¤ì¹˜ëœ íŒ¨í‚¤ì§€ (32ê°œ)**:
- opencv-python: 4.12.0.88
- numpy: 2.2.6
- pillow: 12.0.0
- pytesseract: 0.3.13
- albumentations: 2.0.8
- pandas: 2.3.3
- matplotlib: 3.10.7
- scikit-learn: 1.7.2
- tqdm: 4.67.1

### ë°ì´í„°ì…‹ ìƒì„± ì‹¤í–‰

**ì‹¤í–‰ ëª…ë ¹**:
```bash
uv run python generate_dataset.py
```

**ìƒì„± ì‹œê°„**:
- ê¸°ë³¸ ì´ë¯¸ì§€ ìƒì„± (200ê°œ): ~1ì´ˆ (218 images/sec)
- Validation ì¦ê°• (180ê°œ): ~1.2ì´ˆ
- Test ì¦ê°• (420ê°œ): ~2.7ì´ˆ
- **ì´ ì†Œìš” ì‹œê°„: ì•½ 5ì´ˆ**

### ìµœì¢… ë°ì´í„°ì…‹ í†µê³„

**ì „ì²´ ê·œëª¨**:
```
ì´ ì´ë¯¸ì§€: 600ê°œ
ì´ í•˜ì´ë¼ì´íŠ¸: 1,356ê°œ
í‰ê·  í•˜ì´ë¼ì´íŠ¸/ì´ë¯¸ì§€: 2.26ê°œ
```

**Validation Set (30%)**:
```
ì´ë¯¸ì§€ ìˆ˜: 180ê°œ (60 ì›ë³¸ + 120 ì¦ê°•)
í•˜ì´ë¼ì´íŠ¸: 429ê°œ
í‰ê·  í•˜ì´ë¼ì´íŠ¸/ì´ë¯¸ì§€: 2.38ê°œ
ìƒ‰ìƒ ë¶„í¬:
  - yellow: 159ê°œ (37.1%)
  - green: 138ê°œ (32.2%)
  - pink: 132ê°œ (30.8%)
í‰ê·  í•˜ì´ë¼ì´íŠ¸ ì˜ì—­: 1,148 pxÂ²
í‘œì¤€í¸ì°¨: 469 pxÂ²
```

**Test Set (70%)**:
```
ì´ë¯¸ì§€ ìˆ˜: 420ê°œ (140 ì›ë³¸ + 280 ì¦ê°•)
í•˜ì´ë¼ì´íŠ¸: 927ê°œ
í‰ê·  í•˜ì´ë¼ì´íŠ¸/ì´ë¯¸ì§€: 2.21ê°œ
ìƒ‰ìƒ ë¶„í¬:
  - yellow: 342ê°œ (36.9%)
  - green: 279ê°œ (30.1%)
  - pink: 306ê°œ (33.0%)
í‰ê·  í•˜ì´ë¼ì´íŠ¸ ì˜ì—­: 1,178 pxÂ²
í‘œì¤€í¸ì°¨: 484 pxÂ²
```

### ìƒì„±ëœ íŒŒì¼ êµ¬ì¡°

```
data/
â”œâ”€â”€ synthetic/
â”‚   â”œâ”€â”€ synthetic_0000.png ~ synthetic_0199.png  (200ê°œ)
â”‚   â””â”€â”€ base_annotations.json (347 KB)
â”œâ”€â”€ validation/
â”‚   â”œâ”€â”€ validation_0000_orig.png  (60ê°œ ì›ë³¸)
â”‚   â”œâ”€â”€ validation_0001_aug0.png  (60ê°œ ì¦ê°•1)
â”‚   â”œâ”€â”€ validation_0002_aug1.png  (60ê°œ ì¦ê°•2)
â”‚   â””â”€â”€ validation_annotations.json
â”œâ”€â”€ test/
â”‚   â”œâ”€â”€ test_0000_orig.png  (140ê°œ ì›ë³¸)
â”‚   â”œâ”€â”€ test_0001_aug0.png  (140ê°œ ì¦ê°•1)
â”‚   â”œâ”€â”€ test_0002_aug1.png  (140ê°œ ì¦ê°•2)
â”‚   â””â”€â”€ test_annotations.json
â””â”€â”€ dataset_statistics.json (1.9 KB)
```

**ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰**:
- Synthetic: ~5.5 MB (í‰ê·  27 KB/ì´ë¯¸ì§€)
- Validation: ~3.6 MB (í‰ê·  20 KB/ì´ë¯¸ì§€)
- Test: ~8.4 MB (í‰ê·  20 KB/ì´ë¯¸ì§€)
- **ì´: ~17.5 MB**

---

## ğŸ” í’ˆì§ˆ ê²€ì¦ ê²°ê³¼

### Annotation ìƒ˜í”Œ ê²€ì¦

**ìƒ˜í”Œ ì´ë¯¸ì§€**: `validation_0000_orig.png`

**ì „ì²´ í…ìŠ¤íŠ¸ (9ê°œ ë‹¨ì–´)**:
```
"í˜•ê´‘íœìœ¼ë¡œ í‘œì‹œëœ ì¤‘ìš”í•œ ë‚´ìš©ì„ ë””ì§€í„¸í™”í•˜ë©´ í•™ìŠµ íš¨ìœ¨ì´ í¬ê²Œ í–¥ìƒë©ë‹ˆë‹¤."
```

**í•˜ì´ë¼ì´íŠ¸ëœ í…ìŠ¤íŠ¸ (1ê°œ)**:
```json
{
  "text": "í˜•ê´‘íœìœ¼ë¡œ",
  "bbox": [50, 50, 80, 17],
  "color": "pink"
}
```

**ê²€ì¦ ê²°ê³¼**:
- âœ… ë°”ìš´ë”© ë°•ìŠ¤ ì¢Œí‘œ ì •í™•
- âœ… í…ìŠ¤íŠ¸ ë‚´ìš© ì¼ì¹˜
- âœ… ìƒ‰ìƒ ì •ë³´ ì •í™•
- âœ… Ground Truth 100% ì‹ ë¢° ê°€ëŠ¥

### ìƒ‰ìƒ ë¶„í¬ ê· í˜•ë„

**Validation vs Test ë¹„êµ**:
| ìƒ‰ìƒ | Validation | Test | ì°¨ì´ |
|------|-----------|------|------|
| Yellow | 37.1% | 36.9% | 0.2% |
| Green | 32.2% | 30.1% | 2.1% |
| Pink | 30.8% | 33.0% | 2.2% |

**í‰ê°€**: ìƒ‰ìƒ ë¶„í¬ ë§¤ìš° ê· í˜•ì  (ìµœëŒ€ í¸ì°¨ 2.2%)

### í•˜ì´ë¼ì´íŠ¸ ì˜ì—­ í¬ê¸° ë¶„ì„

```
Validation:
  í‰ê· : 1,148 pxÂ² (ì•½ 34x34px)
  í‘œì¤€í¸ì°¨: 469 pxÂ² (41% ë³€ë™)

Test:
  í‰ê· : 1,178 pxÂ² (ì•½ 34x35px)
  í‘œì¤€í¸ì°¨: 484 pxÂ² (41% ë³€ë™)
```

**í•´ì„**:
- ë‹¨ì–´ ê¸¸ì´ì— ë”°ë¥¸ ìì—°ìŠ¤ëŸ¬ìš´ í¬ê¸° ë¶„í¬
- Validationê³¼ Test ê°„ ì¼ê´€ì„± ìš°ìˆ˜
- í‘œì¤€í¸ì°¨ 41%ëŠ” ì§§ì€ ë‹¨ì–´~ê¸´ êµ¬ë¬¸ ë°˜ì˜

---

## ğŸ› ë°œê²¬ëœ ì´ìŠˆ ë° í•´ê²°

### Issue 1: Python 3.13 í˜¸í™˜ì„±

**ë¬¸ì œ**:
```
ModuleNotFoundError: No module named 'distutils'
numpy==1.24.3 requires distutils (removed in Python 3.13)
```

**í•´ê²°**:
```diff
# requirements.txt
- numpy==1.24.3
+ numpy>=1.26.0
- pandas==2.0.3
+ pandas>=2.0.0
```

**ê²°ê³¼**: Python 3.13.5ì—ì„œ ì •ìƒ ì‘ë™

### Issue 2: Albumentations API ë³€ê²½

**ê²½ê³  ë©”ì‹œì§€**:
```
UserWarning: Argument(s) 'var_limit' are not valid for transform GaussNoise
UserWarning: Argument(s) 'quality_lower, quality_upper' are not valid for transform ImageCompression
UserWarning: Argument(s) 'num_shadows_lower, num_shadows_upper' are not valid for transform RandomShadow
```

**ì›ì¸**: Albumentations 2.0.8ì—ì„œ ì¼ë¶€ íŒŒë¼ë¯¸í„°ëª… ë³€ê²½

**ì˜í–¥**: ê²½ê³ ë§Œ ë°œìƒ, ê¸°ëŠ¥ì€ ì •ìƒ ì‘ë™ (ê¸°ë³¸ê°’ ì‚¬ìš©)

**í–¥í›„ ì¡°ì¹˜**: Phase 2 ì‹œì‘ ì „ íŒŒë¼ë¯¸í„°ëª… ì—…ë°ì´íŠ¸ ì˜ˆì •

### Issue 3: í•œê¸€ í°íŠ¸ ê²½ë¡œ

**ë¬¸ì œ**: ì‹œìŠ¤í…œ í°íŠ¸ ìë™ ë¡œë“œ ì‹¤íŒ¨ ê°€ëŠ¥ì„±

**í•´ê²°**: í°íŠ¸ ìš°ì„ ìˆœìœ„ ë¦¬ìŠ¤íŠ¸ êµ¬í˜„
```python
system_fonts = [
    '/System/Library/Fonts/Supplemental/AppleGothic.ttf',  # macOS
    '/System/Library/Fonts/AppleSDGothicNeo.ttc',
    '/usr/share/fonts/truetype/nanum/NanumGothic.ttf',  # Linux
    'C:\\Windows\\Fonts\\malgun.ttf',  # Windows
]
# Fallback: PIL default font
```

**ê²°ê³¼**: macOSì—ì„œ AppleGothic ì‚¬ìš© í™•ì¸

---

## ğŸ“Š ì„±ëŠ¥ ë¶„ì„

### ìƒì„± ì†ë„

| ì‘ì—… | ì´ë¯¸ì§€ ìˆ˜ | ì†Œìš” ì‹œê°„ | ì†ë„ |
|------|----------|----------|------|
| ê¸°ë³¸ ìƒì„± | 200 | 0.92ì´ˆ | 218 img/s |
| Val ì¦ê°• | 180 | 1.23ì´ˆ | 146 img/s |
| Test ì¦ê°• | 420 | 2.71ì´ˆ | 155 img/s |
| **í•©ê³„** | **600** | **4.86ì´ˆ** | **123 img/s** |

**ë³‘ëª© ì§€ì **: Albumentations ë³€í™˜ (ì¦ê°• ë‹¨ê³„)

### ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰

- í”¼í¬ ë©”ëª¨ë¦¬: ~200 MB (Python í”„ë¡œì„¸ìŠ¤)
- ì´ë¯¸ì§€ í‰ê·  í¬ê¸°: 20 KB
- ì´ ë””ìŠ¤í¬ ì‚¬ìš©: 17.5 MB

**í‰ê°€**: ë§¤ìš° íš¨ìœ¨ì , ëŒ€ê·œëª¨ í™•ì¥ ê°€ëŠ¥

---

## ğŸ’¡ ì£¼ìš” í•™ìŠµ ë‚´ìš©

### 1. uv íŒ¨í‚¤ì§€ ê´€ë¦¬ìì˜ ì¥ì 

- **ì„¤ì¹˜ ì†ë„**: pip ëŒ€ë¹„ 10-100ë°° ë¹ ë¦„
- **ì˜ì¡´ì„± í•´ê²°**: ìë™ ë²„ì „ í˜¸í™˜ì„± ì²´í¬
- **ê°€ìƒí™˜ê²½ í†µí•©**: `uv run` ëª…ë ¹ìœ¼ë¡œ ìë™ í™œì„±í™”

### 2. í•©ì„± ë°ì´í„°ì˜ í’ˆì§ˆ

**Ground Truth ì •í™•ë„**: 100%
- ì‹¤ì œ ë°ì´í„° ë¼ë²¨ë§ ì˜¤ë¥˜ìœ¨ 5-10% vs í•©ì„± 0%
- ë°”ìš´ë”© ë°•ìŠ¤ í”½ì…€ ë‹¨ìœ„ ì •í™•ë„

**ë‹¤ì–‘ì„± í™•ë³´**:
- ìƒ‰ìƒ 3ì¢… ê· ë“± ë¶„í¬
- ì¦ê°•ì„ í†µí•œ ì¡°ëª…/íšŒì „/ë…¸ì´ì¦ˆ ë³€í™”
- ì—°ì† í•˜ì´ë¼ì´íŠ¸ íŒ¨í„´

### 3. ë°ì´í„° ë¶„í•  ì „ëµ

**Stratified Splitì˜ íš¨ê³¼**:
- ìƒ‰ìƒë³„ ë¹„ìœ¨ Validation/Test ë™ì¼ (í¸ì°¨ <2.2%)
- í‰ê°€ ì‹ ë¢°ë„ í–¥ìƒ

**ì¦ê°• ì „ëµ**:
- ì›ë³¸ ë³´ì¡´ (is_augmented: false)
- 2ë°° ì¦ê°•ìœ¼ë¡œ 3ë°° ë°ì´í„° í™•ë³´
- Light augmentationìœ¼ë¡œ Ground Truth ìœ ì§€

---

## ğŸ”„ ë³€ê²½ ì´ë ¥

### v1.1 (2025-01-19 17:41)
- âœ… ì‹¤ì œ ë°ì´í„°ì…‹ ìƒì„± ì™„ë£Œ
- ğŸ“Š 600ê°œ ì´ë¯¸ì§€ (1,356 í•˜ì´ë¼ì´íŠ¸) í™•ë³´
- ğŸ”§ Python 3.13 í˜¸í™˜ì„± ìˆ˜ì • (numpy>=1.26.0)
- ğŸ“ˆ ì„±ëŠ¥ ë¶„ì„ ë° í†µê³„ ì¶”ê°€
- ğŸ› Albumentations API ê²½ê³  ë¬¸ì„œí™”

### v1.0 (2025-01-19 ì´ˆê¸°)
- âœ… ëª¨ë“ˆ êµ¬í˜„ ì™„ë£Œ
- âœ… ì „ì²´ íŒŒì´í”„ë¼ì¸ ì„¤ê³„
- âœ… ResearchLog ì‹œìŠ¤í…œ êµ¬ì¶•

---

## ğŸ“ ìƒì„±ëœ íŒŒì¼ ëª©ë¡

### ì†ŒìŠ¤ ì½”ë“œ
- `src/data_generator/__init__.py`
- `src/data_generator/text_image_generator.py`
- `src/data_generator/highlight_overlay.py`
- `src/data_generator/data_augmentation.py`
- `src/data_generator/dataset_builder.py`

### ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
- `generate_dataset.py`

### ì„¤ì • íŒŒì¼
- `requirements.txt` (ì—…ë°ì´íŠ¸: numpy>=1.26.0)
- `.gitignore`

### ë¬¸ì„œ
- `README.md`
- `ResearchPlan v1.md`
- `ResearchLog/README.md`
- `ResearchLog/Phase1_Dataset_Generation_v1.0.md`
- `ResearchLog/Phase1_Dataset_Generation_v1.1.md` (í˜„ì¬)

### ë°ì´í„°
- âœ… `data/synthetic/` (200 images + annotations)
- âœ… `data/validation/` (180 images + annotations)
- âœ… `data/test/` (420 images + annotations)
- âœ… `data/dataset_statistics.json`

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„ (Phase 2)

### Week 3: í•˜ì´ë¼ì´íŠ¸ ê°ì§€ ëª¨ë“ˆ ê°œë°œ

**ì¤€ë¹„ ì™„ë£Œ ì‚¬í•­**:
- [x] Validation ë°ì´í„°ì…‹ (180ê°œ)
- [x] Test ë°ì´í„°ì…‹ (420ê°œ)
- [x] Ground Truth annotation
- [x] ìƒ‰ìƒë³„ ê· í˜• ë°ì´í„°

**í•„ìš” ì‘ì—…**:
- [ ] HSV ìƒ‰ê³µê°„ ë³€í™˜ ì‹¤í—˜
- [ ] ìƒ‰ìƒë³„ ë§ˆìŠ¤í¬ ìƒì„± ì•Œê³ ë¦¬ì¦˜
- [ ] ëª¨í´ë¡œì§€ ì—°ì‚° íŒŒë¼ë¯¸í„° íŠœë‹
- [ ] IoU ê¸°ë°˜ ì„±ëŠ¥ í‰ê°€
- [ ] mIoU > 0.75 ëª©í‘œ ë‹¬ì„±

**ì˜ˆìƒ ì‚¬ìš© ì½”ë“œ**:
```python
# Validation ë°ì´í„° ë¡œë“œ
import json
with open('data/validation/validation_annotations.json', 'r') as f:
    val_data = json.load(f)

# ì²« ìƒ˜í”Œë¡œ ì•Œê³ ë¦¬ì¦˜ í…ŒìŠ¤íŠ¸
sample = val_data[0]
image = cv2.imread(sample['image_path'])
ground_truth = sample['highlight_annotations']

# í•˜ì´ë¼ì´íŠ¸ ê°ì§€
detected = detect_highlights(image, color='pink')

# IoU ê³„ì‚°
iou = calculate_iou(detected, ground_truth)
print(f"mIoU: {iou:.3f}")
```

---

## ğŸ“ ê²°ë¡ 

Phase 1ì—ì„œ ê³ í’ˆì§ˆ í•©ì„± ë°ì´í„°ì…‹ ìƒì„± ì‹œìŠ¤í…œì„ ì„±ê³µì ìœ¼ë¡œ êµ¬ì¶•í•˜ê³  **600ê°œ ì´ë¯¸ì§€ ë°ì´í„°ì…‹ì„ ì‹¤ì œë¡œ ìƒì„±**í–ˆìŠµë‹ˆë‹¤.

**í•µì‹¬ ì„±ê³¼**:
- âœ… ìë™í™”ëœ end-to-end íŒŒì´í”„ë¼ì¸
- âœ… ì‹¤ì œì™€ ìœ ì‚¬í•œ í•˜ì´ë¼ì´íŠ¸ ì‹œë®¬ë ˆì´ì…˜
- âœ… 100% ì •í™•í•œ Ground Truth
- âœ… ìƒ‰ìƒë³„ ê· í˜•ì¡íŒ ë¶„í¬ (í¸ì°¨ <2.2%)
- âœ… í™•ì¥ ê°€ëŠ¥í•œ ëª¨ë“ˆ êµ¬ì¡°
- âœ… ë¹ ë¥¸ ìƒì„± ì†ë„ (123 img/s)
- âœ… íš¨ìœ¨ì  ë¦¬ì†ŒìŠ¤ ì‚¬ìš© (17.5 MB)

**í’ˆì§ˆ ì§€í‘œ**:
- Ground Truth ì •í™•ë„: 100%
- ìƒ‰ìƒ ë¶„í¬ í¸ì°¨: ìµœëŒ€ 2.2%
- í•˜ì´ë¼ì´íŠ¸ ì˜ì—­ ì¼ê´€ì„±: CV=41%
- ë°ì´í„° ì†ì‹¤: 0%

**ë‹¤ìŒ ë‹¨ê³„**: Week 3-4ì—ì„œ HSV ê¸°ë°˜ í•˜ì´ë¼ì´íŠ¸ ê°ì§€ ì•Œê³ ë¦¬ì¦˜ê³¼ Tesseract OCR í†µí•©ì„ ì§„í–‰í•˜ì—¬ mIoU > 0.75, CER < 5% ëª©í‘œë¥¼ ë‹¬ì„±í•©ë‹ˆë‹¤.

---

**ë¬¸ì„œ ì‘ì„±ì**: AI Research Assistant
**ìµœì¢… ê²€í† **: 2025-01-19
**ë‹¤ìŒ ì—…ë°ì´íŠ¸**: Phase 2 ì‹œì‘ ì‹œ
